{
  "name": "viterbo-dev",
  "image": "mcr.microsoft.com/devcontainers/universal:2",
  "remoteUser": "codespace",
  "customizations": {
    "vscode": {
      "settings": {
        "terminal.integrated.defaultProfile.linux": "bash"
      },
      "extensions": [
        "openai.chatgpt",
        "tamasfe.even-better-toml",
        "ms-toolsai.jupyter",
        "skellock.just",
        "ms-python.vscode-pylance",
        "ms-python.python",
        "charliermarsh.ruff",
        "bloop.vibe-kanban",
        "redhat.vscode-yaml"
      ]
    }
  },
  "postCreateCommand": "bash .devcontainer/post-create.sh",
  "postStartCommand": "bash .devcontainer/post-start.sh",
  "containerEnv": {
    "LOCAL_DEVCONTAINER": "true",
    "FRONTEND_PORT": "3000",
    "TUNNEL_NAME": "viterbo-dev",
    "CF_TUNNEL": "vibekanban",
    "HOST": "0.0.0.0",
    "HISTFILE": "/home/codespace/.bash_history_dir/.bash_history",
    "HISTSIZE": "50000",
    "HISTCONTROL": "ignoredups:erasedups",
    "VSCODE_CLI_DATA_DIR": "/home/codespace/.vscode",
    "XDG_CONFIG_HOME": "/home/codespace/.config",
    "XDG_DATA_HOME": "/home/codespace/.local/share",
    "XDG_CACHE_HOME": "/home/codespace/.cache",
    "PYTHONPATH": ".:src"
  },
  "mounts": [
    // oauth
    "source=/srv/devhome/.vscode,target=/home/codespace/.vscode,type=bind,consistency=cached",
    "source=/srv/devhome/.codex,target=/home/codespace/.codex,type=bind,consistency=cached",
    "source=/srv/devhome/.config/gh,target=/home/codespace/.config/gh,type=bind,consistency=cached",
    "source=/srv/devhome/.config/.wrangler,target=/home/codespace/.config/.wrangler,type=bind,consistency=cached",
    "source=/srv/devhome/.cloudflared,target=/home/codespace/.cloudflared,type=bind,consistency=cached",
    // caches and history
    "source=/srv/devhome/.cache/pip,target=/home/codespace/.cache/pip,type=bind,consistency=cached",
    "source=/srv/devhome/.cache/uv,target=/home/codespace/.cache/uv,type=bind,consistency=cached",
    "source=/srv/devhome/.bash_history_dir,target=/home/codespace/.bash_history_dir,type=bind,consistency=cached",
    // data
    "source=/srv/devhome/.local/share/ai/bloop/vibe-kanban,target=/home/codespace/.local/share/ai/bloop/vibe-kanban,type=bind,consistency=cached",
    "source=/srv/devworktrees/vibe-kanban/worktrees,target=/var/tmp/vibe-kanban/worktrees,type=bind,consistency=cached"
  ],
  "features": {}
}
